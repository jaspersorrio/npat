"use strict";angular.module("npatApp",["ngMaterial","ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider","$mdThemingProvider",function(a,b){b.theme("default").primaryPalette("blue").accentPalette("pink"),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/funday",{templateUrl:"views/funday.html",controller:"FundayCtrl",controllerAs:"funday"}).when("/funday/2",{templateUrl:"views/funday/2.html",controller:"Funday2Ctrl",controllerAs:"funday/2"}).otherwise({redirectTo:"/"})}]),angular.module("npatApp").controller("MainCtrl",["$scope",function(a){this.mobileAndTabletcheck=function(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a},a.isMobile=this.mobileAndTabletcheck()}]),angular.module("npatApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("npatApp").controller("FundayCtrl",["$scope","$cookies","$http",function(a,b,c){function d(b){switch(console.log(b),b){case"pageOne":a.page=0;break;case"pageTwo":a.page=1;break;case"pageThree":a.page=2;break;case"pageFour":a.page=3}}!function(){d("pageOne"),console.log(b.getObject("stud")),a.stud={},a.stud=b.getObject("stud")}(),a.getPageTwo=function(c){switch(c&&b.putObject("stud",c),a.stud.shirt){case"white":a.chooseWhite();break;case"black":a.chooseBlack();break;default:a.chooseBlack()}d("pageTwo")},a.getPageThree=function(a){a&&b.putObject("stud",a),d("pageThree")},a.getPageFour=function(c){c&&b.putObject("stud",c),d("pageFour"),a.checkCode(a.stud.game,a.stud.teamCode),a.pageFourBtnCheck(a.stud)},a.chooseBlack=function(){a.stud.shirt="black",a.shirt="../images/AT_SHIRT_BACK_7.d87cf4ae.jpg"},a.chooseWhite=function(){a.stud.shirt="white",a.shirt="../images/AT_SHIRT_BACK_7_white.06e4f06d.jpg"},a.getGroupCode=function(a){return c({method:"GET",url:"api/code/"+a})},a.createGroup=function(b){for(var c="",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;5>e;e++)c+=d.charAt(Math.floor(Math.random()*d.length));a.getGroupCode(c).then(function(b){0==b.data.success?(a.stud.joinGroup=!1,a.stud.createGroup=c):a.createGroup()})},a.joinGroup=function(){a.stud.createGroup=!1,a.stud.joinGroup=!0},a.checkCode=function(b,c){return c?void a.getGroupCode(c).then(function(d){return console.log(d),delete a.stud.errorMsg,delete a.numberLeft,a.stud.errorMsg=[],d.data.success?(d.data.student[0].createGroup!==c&&(console.log("failed teamcode"),a.stud.teamCodeSuccess=!1,a.stud.errorMsg[a.stud.errorMsg.length]="Not a valid Team Code"),d.data.student[0].game!==b&&(console.log("failed game"),a.stud.teamCodeSuccess=!1,a.stud.errorMsg[a.stud.errorMsg.length]="This Team Code is for "+d.data.student[0].game+" not "+b),d.data.numberLeft<1&&(a.stud.teamCodeSuccess=!1,a.stud.errorMsg[a.stud.errorMsg.length]="I'm sorry but this team is full. Please check with the group leader."),console.log(a.stud.errorMsg.length),void(0===a.stud.errorMsg.length&&(a.numberLeft=d.data.numberLeft,a.stud.teamCodeSuccess=!0))):(a.stud.teamCodeSuccess=!1,void(a.stud.errorMsg[a.stud.errorMsg.length]="Not a valid Team Code"))}):void(a.stud.teamCodeSuccess=!1)},a.pageFourBtnCheck=function(a){if(console.log(a),a.group){if("Alone"==a.group)return!1;if(a.createGroup||a.teamCodeSuccess)return!1}return!0},a.putStudent=function(a){a.noShirt&&(delete a.shirt,delete a.size),"Alone"===a.group&&(delete a.createGroup,delete a.teamCode),a.joinGroup?delete a.createGroup:delete a.teamCode,console.log(JSON.stringify(a)),c({method:"POST",url:"api/student",data:a}).then(function(a){console.log(a)})}}]),angular.module("npatApp").controller("Funday2Ctrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("npatApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/funday.html",'<style type="text/css">.bg-main{\n		background-color: whitesmoke;\n	}\n\n	label{\n		text-shadow:none !important;\n	}\n\n	.signup{\n		background-color:whitesmoke;\n		color:rgba(0,0,0,0.78);\n	}\n\n	button.black{\n		background-color: black !important;\n		color:white !important;\n	}\n\n	.stand-out{\n		color:#2196F3;\n	}\n\n	.my-warn{\n		color: #E91E63;\n	}\n\n	.cropped-images{\n		max-height: 100%;\n		height: 100%;\n		width: 100%;\n	}\n\n	md-tab-item{\n		color: rgba(0,0,0,0.78) !important;\n	}\n\n	md-tab-item.md-active{\n		color: rgb(16,108,200) !important;\n	}</style> <div class="flex-height signup"> <!-- name\n	stud id\n	Hp Number\n	game\n	join alone\n	join as group\n	join as team\n	shirt size\n	shirt size chart --> <div class="scrollable" layout="row" flex-offset-gt-md="20" flex-gt-md="60" flex="80" flex-offset="10" layout-align="center center"> <md-card flex> <md-card-content> <md-tabs md-selected="page" md-swipe-content md-dynamic-height> <md-tab label="General"> <!-- MAIN --> <md-tab-body> <h2 class="sec-text">Sign up now!</h2> <div class="page" layout-padding flex> <ng-form name="pageOne"> <md-input-container> <label>Full Name</label> <input required flex type="text" name="studName" ng-model="stud.name"> <div ng-messages="pageOne.studName.$error" ng-if="pageOne.studName.$touched" role="alert"> <div ng-message="required">This is required</div> </div> </md-input-container> <md-input-container> <label>Student Number (10109323A)</label> <input required type="text" pattern="[0-9]{8}[a-zA-Z]{1}" name="studNumber" ng-model="stud.number"> <div ng-messages="pageOne.studNumber.$error" ng-if="pageOne.studNumber.$touched" role="alert"> <div ng-message="required">This is required</div> <div ng-message="pattern">This does not seem to look like 10109323a</div> </div> </md-input-container> <md-input-container> <label>Phone Number</label> <input required type="text" name="studHp" pattern="[0-9]{8}" ng-model="stud.hp"> <div ng-messages="pageOne.studHp.$error" ng-if="pageOne.studHp.$touched" role="alert"> <div ng-message="required">This is required</div> <div ng-message="pattern">This does not seem to look like a Singapore Number (90019002)</div> </div> </md-input-container> </ng-form> <md-button ng-click="getPageTwo(stud)" class="md-primary md-raised" ng-disabled="pageOne.$invalid">Next</md-button> </div> </md-tab-body> </md-tab> <!-- SHIRT --> <md-tab ng-click="getPageTwo(stud)" ng-disabled="pageOne.$invalid" label="Shirt"> <md-tab-body> <img class="cropped-images" ng-src="{{shirt}}"> <h2 class="sec-text" ng-if="!stud.noShirt">Choose a color!</h2> <div class="page" ng-if="!stud.noShirt" layout="row" flex> <md-button class="md-raised black" ng-click="chooseBlack()">Black</md-button> <md-button class="md-raised" ng-click="chooseWhite()">White</md-button> </div> <md-input-container ng-if="!stud.noShirt"> <label>Size</label> <md-select ng-model="stud.size"> <md-option value="XS">XS</md-option> <md-option value="S">S</md-option> <md-option value="M">M</md-option> <md-option value="L">L</md-option> <md-option value="XL">XL</md-option> </md-select> </md-input-container> <h2 ng-if="stud.noShirt">Are you sure?</h2> <p ng-if="stud.noShirt">This is the <span class="stand-out">official</span> course tee of the year.</p> <p ng-if="stud.noShirt">The price for AT Funday <span class="stand-out">including</span> the shirts is <span class="stand-out">$12.</span></p> <p ng-if="stud.noShirt"> <span class="my-warn">Without</span> the shirts the price of AT Funday is <span class="my-warn">$8</span>.</p> <md-switch ng-model="stud.noShirt"> I\'m not buying the shirt. </md-switch> <md-button class="md-raised" ng-class="{\n						\'md-warn\':stud.noShirt,\n						\'md-primary\':!stud.noShirt\n						}" ng-disabled="!stud.noShirt && !stud.size" ng-click="getPageThree(stud)">Confirm</md-button> </md-tab-body> </md-tab> <!-- GAMES --> <md-tab label="Games" ng-disabled="!stud.noShirt && !stud.size" ng-click="getPageThree(stud)"> <h2>Choose a game!</h2> <md-grid-list md-cols="1" md-gutter="15px" md-row-height="1:1"> <md-grid-tile ng-click="playFussball()"> <img class="cropped-images" src="../images/humanfusball.29824bf6.jpg"> <md-grid-tile-footer> <h3>Human Fussball</h3> </md-grid-tile-footer> </md-grid-tile> <md-grid-tile ng-click="playDball()"> <img class="cropped-images" src="../images/dragonball.6da5595c.jpg"> <md-grid-tile-footer> <h3>Dragon Ball</h3> </md-grid-tile-footer> </md-grid-tile> </md-grid-list> <md-input-container> <label>Game</label> <md-select ng-model="stud.game"> <md-option value="Human Fussball">Human Fussball</md-option> <md-option value="Dragon Ball">Dragon Ball</md-option> </md-select> </md-input-container> <md-button ng-click="getPageFour(stud)" ng-disabled="!stud.game" class="md-primary md-raised">Confirm</md-button> </md-tab> <!-- TEAM --> <md-tab label="Team" ng-disabled="!stud.game" ng-click="getPageFour(stud)"> <h2>Teams</h2> <md-radio-group ng-model="stud.group"> <md-radio-button value="Alone">Join alone</md-radio-button> <md-radio-button value="Group">Join as a group (Max 10 players)</md-radio-button> </md-radio-group> <div ng-if="stud.group == \'Group\'"> <md-button ng-click="createGroup()" class="md-raised md-accent">Create Group</md-button> <md-button ng-click="joinGroup()" class="md-raised md-accent">Join Group</md-button> <div ng-if="stud.createGroup"> Your team code is <span class="stand-out">{{stud.createGroup}}</span> ! Please pass this code to your team mates! </div> <div ng-if="stud.joinGroup"> <md-input-container> <label>Team Code</label> <input type="text" ng-change="checkCode(stud.game, stud.teamCode)" ng-model="stud.teamCode"> <div ng-messages="stud.teamCode" role="alert"> <div ng-repeat="error in stud.errorMsg">{{error}}</div> </div> </md-input-container> </div> <div ng-if="numberLeft">Woah, only <span class="stand-out">{{numberLeft}}</span> slots left</div> </div> <md-button class="md-raised md-primary" ng-click="putStudent(stud)" ng-disabled="pageFourBtnCheck(stud)">Confirm</md-button> </md-tab> </md-tabs> </md-card-content> </md-card> </div> </div>'),a.put("views/funday/2.html","<p>This is the funday/2 view.</p>"),a.put("views/main.html",'<style type="text/css">.call-to-action-container{\n    height:100%;\n    z-index: 1000000;\n    text-shadow: 2px 2px black;\n  }</style> <!-- for mobile --> <div id="bgImg" ng-if="isMobile" ng-class="{\'greyscale\': videoColor}"></div> <!-- for desktop --> <video ng-if="!isMobile" autoplay loop id="bgvid" ng-class="{\'greyscale\': videoColor}"> <source src="../videos/npat cover2.mp4" type="video/mp4"> </source></video> <div class="call-to-action-container" layout="column" flex layout-align="center start"> <a href="#/funday" class="call-to-action"> <div class="call-to-action" ng-mouseleave="videoColor = false" ng-mouseover="videoColor = true;" layout="column" layout-align="center center"> <!-- NPAT LOGO --> <div> <img id="npat" src="./images/npat.acfd2dc4.jpg"> </div> <div> <!--  SIGN UP TEXT  --> <h1>Sign up for AT ˚ FUNDAY</h1> </div> </div> </a> </div>')}]);